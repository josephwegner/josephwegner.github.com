---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  date: Date;
  image?: string;
}

const { title, date, image } = Astro.props;
const formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
---

<BaseLayout title={`${title} | Joe Wegner`} description={title} image={image}>
  <article class="py-12 sm:py-16" itemscope itemtype="https://schema.org/BlogPosting">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      {image && (
        <img src={image} alt="" class="w-full rounded-xl mb-8 max-h-80 object-cover" loading="eager" />
      )}
      <header class="mb-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-deep" itemprop="name">{title}</h1>
        <time datetime={date.toISOString()} class="block mt-3 text-text-secondary" itemprop="dateCreated">
          {formattedDate}
        </time>
      </header>
      <div class="prose prose-lg max-w-none" itemprop="text">
        <slot />
      </div>
    </div>
  </article>
</BaseLayout>
